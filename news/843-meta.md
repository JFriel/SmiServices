Add pre-commit and codespell. Fix all current spelling mistakes
